create table category (
    id bigint generated by default as identity,
    description varchar(255),
    imageurl varchar(255),
    name varchar(255),
    primary key (id)
);

create table product (
    id bigint generated by default as identity,
    description varchar(255),
    name varchar(255),
    price integer,
    category_id bigint not null,
    primary key (id)
);

create table user (
    id bigint generated by default as identity,
    email varchar(255),
    firstname varchar(255),
    lastname varchar(255),
    password varchar(255),
    role varchar(255),
    status varchar(255),
    address_id bigint not null,
    primary key (id)
);

create table product_rating (
    user_id bigint not null,
    product_id bigint not null,
    rating integer
);

create table address (
    id bigint generated by default as identity,
    country varchar(255),
    region varchar(255),
    city varchar(255),
    street varchar(255),
    house integer,
    primary key (id)
);

alter table product add constraint category_id_fk foreign key (category_id) references category;
alter table user add constraint address_id_fk foreign key (address_id) references address;
alter table product_rating add constraint user_id_fk foreign key (user_id) references user;
alter table product_rating add constraint product_id_fk foreign key (product_id) references product;
